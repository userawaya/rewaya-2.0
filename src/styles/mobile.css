/* Mobile-first responsive utilities */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  /* Mobile-optimized spacing */
  .mobile-padding {
    @apply px-4 sm:px-6 lg:px-8;
  }

  .mobile-section {
    @apply py-8 sm:py-12 lg:py-16;
  }

  /* Touch-friendly interactions */
  .touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }

  .touch-button {
    @apply touch-target p-3 rounded-lg transition-all duration-200 active:scale-95;
  }

  /* Mobile typography */
  .mobile-title {
    @apply text-xl sm:text-2xl lg:text-3xl font-bold;
  }

  .mobile-subtitle {
    @apply text-base sm:text-lg text-gray-600;
  }

  .mobile-body {
    @apply text-sm sm:text-base;
  }

  /* Mobile grid layouts */
  .mobile-grid-1 {
    @apply grid grid-cols-1;
  }

  .mobile-grid-2 {
    @apply grid grid-cols-1 sm:grid-cols-2;
  }

  .mobile-grid-3 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3;
  }

  .mobile-grid-4 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4;
  }

  /* Mobile card layouts */
  .mobile-card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden;
  }

  .mobile-card-padding {
    @apply p-4 sm:p-6;
  }

  /* Mobile navigation */
  .mobile-nav-height {
    @apply h-16 sm:h-20;
  }

  .mobile-bottom-nav {
    @apply pb-20 sm:pb-6;
  }

  /* Mobile-specific animations */
  .mobile-slide-up {
    @apply transition-transform duration-300 ease-out;
    transform: translateY(100%);
  }

  .mobile-slide-up.active {
    transform: translateY(0);
  }

  /* Mobile modal optimizations */
  .mobile-modal {
    @apply fixed inset-0 z-50 bg-white sm:relative sm:bg-transparent;
  }

  .mobile-modal-content {
    @apply h-full overflow-y-auto sm:h-auto sm:max-h-[90vh];
  }

  /* Mobile form optimizations */
  .mobile-form-input {
    @apply w-full px-4 py-3 text-base border border-gray-300 rounded-lg;
  }

  .mobile-form-button {
    @apply w-full py-3 px-4 text-base font-medium rounded-lg;
  }

  /* Mobile dashboard optimizations */
  .mobile-dashboard-header {
    @apply flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0;
  }

  .mobile-stats-grid {
    @apply mobile-grid-2 lg:grid-cols-4 gap-4 sm:gap-6;
  }

  .mobile-stat-card {
    @apply mobile-card mobile-card-padding;
  }

  /* Mobile menu improvements */
  .mobile-menu {
    @apply fixed inset-x-0 top-16 bg-white border-t border-gray-200 shadow-lg z-40;
  }

  .mobile-menu-item {
    @apply block w-full text-left px-4 py-3 text-base font-medium transition-colors;
  }

  /* Safe area handling for modern mobile devices */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Mobile scroll optimizations */
  .mobile-scroll {
    @apply overflow-y-auto -webkit-overflow-scrolling-touch;
  }

  /* Mobile loading states */
  .mobile-skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }

  /* Mobile error states */
  .mobile-error {
    @apply mobile-card mobile-card-padding text-center;
  }

  /* Mobile success states */
  .mobile-success {
    @apply bg-green-50 border border-green-200 rounded-lg p-4;
  }

  /* Mobile-optimized toast notifications */
  .mobile-toast {
    @apply max-w-[calc(100vw-2rem)] mx-4 text-sm sm:text-base;
  }

  .mobile-toast-content {
    @apply flex items-center space-x-3 p-4;
  }

  .mobile-toast-icon {
    @apply w-5 h-5 flex-shrink-0;
  }

  .mobile-toast-message {
    @apply flex-1 font-medium;
  }

  .mobile-toast-success {
    @apply bg-green-50 border border-green-200 text-green-800;
  }

  .mobile-toast-error {
    @apply bg-red-50 border border-red-200 text-red-800;
  }

  .mobile-toast-warning {
    @apply bg-yellow-50 border border-yellow-200 text-yellow-800;
  }

  .mobile-toast-info {
    @apply bg-blue-50 border border-blue-200 text-blue-800;
  }

  /* Enhanced mobile notifications */
  .mobile-notification-center {
    @apply fixed inset-x-4 top-20 z-50 bg-white rounded-xl shadow-2xl border max-h-96 sm:relative sm:inset-auto sm:top-auto sm:shadow-lg;
  }

  .mobile-notification-item {
    @apply p-4 border-b border-gray-100 active:bg-gray-100 transition-colors;
  }

  .mobile-notification-header {
    @apply sticky top-0 bg-white border-b z-10 p-4;
  }

  /* Enhanced real-time analytics mobile view */
  .mobile-analytics-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 gap-4;
  }

  .mobile-analytics-chart {
    @apply h-48 sm:h-64;
  }

  .mobile-chart-container {
    @apply overflow-x-auto pb-4;
  }

  /* Payment form mobile optimizations */
  .mobile-payment-form {
    @apply space-y-4 p-4;
  }

  .mobile-payment-input {
    @apply w-full p-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent;
  }

  .mobile-payment-select {
    @apply w-full p-3 text-base border border-gray-300 rounded-lg bg-white;
  }

  .mobile-payment-button {
    @apply w-full py-3 px-4 text-base font-medium rounded-lg bg-green-600 text-white hover:bg-green-700 active:bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Enhanced loading states */
  .mobile-loading-analytics {
    @apply flex items-center justify-center h-32 bg-gray-50 rounded-lg;
  }

  .mobile-loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-b-2 border-green-600;
  }

  /* Real-time update animations */
  @keyframes pulse-green {
    0%, 100% {
      @apply bg-green-50;
    }
    50% {
      @apply bg-green-100;
    }
  }

  .mobile-realtime-update {
    animation: pulse-green 2s ease-in-out;
  }

  /* Enhanced accessibility for mobile */
  .mobile-focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 rounded-lg;
  }

  .mobile-touch-feedback {
    @apply active:scale-95 transition-transform duration-150;
  }

  /* Improved swipe gestures */
  .mobile-swipeable {
    @apply touch-pan-x;
  }

  /* Better visual hierarchy on mobile */
  .mobile-hierarchy-1 {
    @apply text-2xl font-bold text-gray-900 mb-2;
  }

  .mobile-hierarchy-2 {
    @apply text-lg font-semibold text-gray-800 mb-2;
  }

  .mobile-hierarchy-3 {
    @apply text-base font-medium text-gray-700 mb-1;
  }

  /* Enhanced mobile dashboard sections */
  .mobile-dashboard-section {
    @apply bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-4;
  }

  .mobile-dashboard-header {
    @apply flex items-center justify-between mb-4 pb-2 border-b border-gray-100;
  }

  /* Improved mobile charts */
  .mobile-chart-legend {
    @apply flex flex-wrap justify-center gap-2 mt-2 text-xs;
  }

  .mobile-chart-tooltip {
    @apply bg-white p-2 rounded shadow-lg border text-sm;
  }

  /* Mobile-specific button variants */
  .mobile-primary-button {
    @apply bg-green-600 text-white px-4 py-3 rounded-lg font-medium active:bg-green-700 transition-colors;
  }

  .mobile-secondary-button {
    @apply bg-gray-100 text-gray-700 px-4 py-3 rounded-lg font-medium active:bg-gray-200 transition-colors;
  }

  .mobile-danger-button {
    @apply bg-red-600 text-white px-4 py-3 rounded-lg font-medium active:bg-red-700 transition-colors;
  }

  /* Enhanced mobile form validation */
  .mobile-form-error {
    @apply text-red-600 text-sm mt-1 flex items-center;
  }

  .mobile-form-success {
    @apply text-green-600 text-sm mt-1 flex items-center;
  }

  /* Better mobile spacing for sections */
  .mobile-section-spacing {
    @apply mb-6 sm:mb-8;
  }

  /* Responsive text scaling */
  @media (max-width: 640px) {
    .mobile-responsive-text {
      font-size: clamp(0.875rem, 2.5vw, 1rem);
    }
    
    .mobile-responsive-title {
      font-size: clamp(1.25rem, 5vw, 1.875rem);
    }
  }

  /* Dark mode support for mobile */
  @media (prefers-color-scheme: dark) {
    .mobile-dark-card {
      @apply bg-gray-800 border-gray-700;
    }
    
    .mobile-dark-text {
      @apply text-gray-200;
    }
    
    .mobile-dark-input {
      @apply bg-gray-700 border-gray-600 text-white;
    }
  }

  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .mobile-animation {
      @apply transition-none;
    }
    
    .mobile-loading-spinner {
      @apply animate-none;
    }
  }
}

/* Device-specific optimizations */
@media (max-width: 375px) {
  .mobile-small {
    font-size: 0.875rem;
  }
  
  .mobile-small-padding {
    @apply px-3 py-2;
  }

  /* Smaller toast for very small screens */
  .mobile-toast {
    @apply max-w-[calc(100vw-1rem)] mx-2 text-xs;
  }
}

/* Tablet optimizations */
@media (min-width: 768px) and (max-width: 1024px) {
  .tablet-optimized {
    @apply px-6 py-4;
  }
}

/* Landscape mobile optimizations */
@media (max-height: 500px) and (orientation: landscape) {
  .landscape-mobile {
    @apply py-2;
  }
  
  .landscape-mobile-nav {
    @apply h-12;
  }

  /* Move toasts to avoid landscape navigation */
  .landscape-toast-position {
    @apply top-2 bottom-auto;
  }
}

/* High DPI display optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .retina-optimized {
    @apply text-sm;
  }
}

/* Toast-specific animations */
@keyframes toast-slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes toast-slide-out {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

.toast-enter {
  animation: toast-slide-in 0.3s ease-out forwards;
}

.toast-exit {
  animation: toast-slide-out 0.3s ease-in forwards;
}
